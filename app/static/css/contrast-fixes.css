/* 
COMPREHENSIVE TEXT CONTRAST FIXES 
Fixes dark text on dark backgrounds across the site
*/

/* WHITE TEXT ON DARK BACKGROUNDS - ENHANCED CONTRAST */
.bg-danger, .bg-danger *, .badge-danger, .btn-danger, .alert-danger,
.bg-primary, .bg-primary *, .badge-primary, .btn-primary, .alert-primary,
.bg-warning, .bg-warning *, .badge-warning, .btn-warning, .alert-warning,
.bg-info, .bg-info *, .badge-info, .btn-info, .alert-info,
.bg-success, .bg-success *, .badge-success, .btn-success, .alert-success,
.bg-dark, .bg-dark *, .badge-dark, .btn-dark, .alert-dark,
.text-bg-danger, .text-bg-primary, .text-bg-warning, .text-bg-info, .text-bg-success, .text-bg-dark,
.table-danger, .table-primary, .table-warning, .table-info, .table-success, .table-dark {
    color: #ffffff !important;
}

/* Ensure all text content in dark backgrounds is white */
.bg-danger h1, .bg-danger h2, .bg-danger h3, .bg-danger h4, .bg-danger h5, .bg-danger h6,
.bg-primary h1, .bg-primary h2, .bg-primary h3, .bg-primary h4, .bg-primary h5, .bg-primary h6,
.bg-success h1, .bg-success h2, .bg-success h3, .bg-success h4, .bg-success h5, .bg-success h6,
.bg-info h1, .bg-info h2, .bg-info h3, .bg-info h4, .bg-info h5, .bg-info h6,
.bg-dark h1, .bg-dark h2, .bg-dark h3, .bg-dark h4, .bg-dark h5, .bg-dark h6,
.bg-danger p, .bg-primary p, .bg-success p, .bg-info p, .bg-dark p,
.bg-danger span, .bg-primary span, .bg-success span, .bg-info span, .bg-dark span,
.bg-danger div, .bg-primary div, .bg-success div, .bg-info div, .bg-dark div,
.bg-danger small, .bg-primary small, .bg-success small, .bg-info small, .bg-dark small {
    color: #ffffff !important;
}

/* DARK BACKGROUND COLORS FOR BETTER CONTRAST */
.bg-danger, .badge-danger, .btn-danger, .alert-danger {
    background-color: #b71c1c !important; /* Very dark red for white text */
    border-color: #b71c1c !important;
}

.bg-primary, .badge-primary, .btn-primary {
    background-color: #0d47a1 !important; /* Very dark blue for white text */
    border-color: #0d47a1 !important;
}

.bg-warning, .badge-warning, .btn-warning {
    background-color: #e65100 !important; /* Dark orange instead of light yellow */
    color: white !important;
    border-color: #e65100 !important;
}

.bg-info, .badge-info, .btn-info {
    background-color: #01579b !important; /* Very dark cyan for white text */
    border-color: #01579b !important;
}

.bg-success, .badge-success, .btn-success {
    background-color: #1b5e20 !important; /* Very dark green for white text */
    border-color: #1b5e20 !important;
}

/* IMAGE SIZE CONSTRAINTS FOR NEWS ARTICLES */
.news-article img,
.article-content img,
.prose img,
img[src*="news"],
img[src*="article"],
.news-image,
.article-image {
    max-height: 200px !important; /* Reduced from 250px */
    max-width: 100% !important;
    height: auto !important;
    object-fit: cover !important;
    border-radius: 8px !important;
    margin: 1rem auto !important;
    display: block !important;
}

/* Mobile image constraints - even smaller */
@media (max-width: 768px) {
    .news-article img,
    .article-content img,
    .prose img,
    img[src*="news"],
    img[src*="article"],
    .news-image,
    .article-image {
        max-height: 150px !important; /* Reduced from 180px */
    }
}

/* ICON SIZE CONSTRAINTS */
.bi, i.bi, i[class*="bi-"] {
    font-size: 1rem !important; /* Ensure icons aren't too large */
    max-width: 24px !important;
    max-height: 24px !important;
}

/* Large icons in specific contexts */
.fs-3 i.bi, .display-6 i.bi {
    font-size: 1.5rem !important;
    max-width: 32px !important;
    max-height: 32px !important;
}

/* White text on dark backgrounds */
.bg-dark, .bg-dark .text-dark, .bg-dark .text-black,
.bg-secondary, .bg-secondary .text-dark, .bg-secondary .text-black,
.text-bg-dark, .text-bg-secondary,
.table-dark, .table-secondary,
.alert-dark, .alert-secondary,
.btn-dark, .btn-secondary,
.badge-dark, .badge-secondary {
    color: #ffffff !important;
}

/* White text on success/green backgrounds - FIXED FOR DARK GREEN */
.bg-success, .bg-success .text-dark, .bg-success .text-black,
.text-bg-success,
.table-success,
.alert-success,
.btn-success,
.badge-success {
    color: #ffffff !important;
    background-color: #155724 !important; /* Dark green instead of light green */
}

/* Specific alert-success fixes for banners */
.alert-success {
    background-color: #155724 !important; /* Dark green */
    border-color: #0f4419 !important; /* Darker border */
    color: #ffffff !important;
}

.alert-success h1, .alert-success h2, .alert-success h3, .alert-success h4, .alert-success h5, .alert-success h6,
.alert-success p, .alert-success span, .alert-success div, .alert-success i {
    color: #ffffff !important;
}

/* Override light green table-success with darker green */
.table-success {
    --bs-table-color: #ffffff !important;
    --bs-table-bg: #198754 !important;
    --bs-table-border-color: #146c43 !important;
    --bs-table-striped-bg: #1b7c5a !important;
    --bs-table-striped-color: #ffffff !important;
    --bs-table-active-bg: #146c43 !important;
    --bs-table-active-color: #ffffff !important;
    --bs-table-hover-bg: #1b7c5a !important;
    --bs-table-hover-color: #ffffff !important;
    background-color: #198754 !important;
    color: #ffffff !important;
}

/* Ensure white text on dark green and dark blue backgrounds */
.bg-success, .bg-success .text-dark, .bg-success .text-black,
.bg-dark, .bg-dark .text-dark, .bg-dark .text-black {
    color: #ffffff !important;
}

/* Ensure white text on dark green backgrounds (custom class) */
.bg-dark-green, .bg-dark-green h1, .bg-dark-green h2, .bg-dark-green h3, .bg-dark-green h4, .bg-dark-green h5, .bg-dark-green h6 {
    color: #ffffff !important;
}

/* Fix card headers with poor text contrast */
.card-header.bg-primary,
.card-header.bg-info,
.card-header.bg-dark,
.card-header.bg-secondary,
.card-header.bg-success,
.card-header.bg-danger {
    color: #ffffff !important;
}

/* Fix specific problematic headers by content */
.card-header:contains("Sentiment Indikatorer"),
.card-header:contains("Velg aksje for sentiment analyse"),
.card-header:contains("Markedssentiment"),
.card-header:contains("Tekniske Indikatorer") {
    color: #ffffff !important;
}

/* Fix all headings on colored backgrounds */
.bg-primary h1, .bg-primary h2, .bg-primary h3, .bg-primary h4, .bg-primary h5, .bg-primary h6,
.bg-info h1, .bg-info h2, .bg-info h3, .bg-info h4, .bg-info h5, .bg-info h6,
.bg-dark h1, .bg-dark h2, .bg-dark h3, .bg-dark h4, .bg-dark h5, .bg-dark h6,
.bg-secondary h1, .bg-secondary h2, .bg-secondary h3, .bg-secondary h4, .bg-secondary h5, .bg-secondary h6,
.bg-success h1, .bg-success h2, .bg-success h3, .bg-success h4, .bg-success h5, .bg-success h6,
.bg-danger h1, .bg-danger h2, .bg-danger h3, .bg-danger h4, .bg-danger h5, .bg-danger h6 {
    color: #ffffff !important;
}

/* Fix small text and descriptions on colored backgrounds */
.bg-primary small, .bg-primary .small, .bg-primary .text-muted,
.bg-info small, .bg-info .small, .bg-info .text-muted,
.bg-dark small, .bg-dark .small, .bg-dark .text-muted,
.bg-secondary small, .bg-secondary .small, .bg-secondary .text-muted,
.bg-success small, .bg-success .small, .bg-success .text-muted,
.bg-danger small, .bg-danger .small, .bg-danger .text-muted {
    color: #ffffff !important;
    opacity: 0.8;
}

/* Fix dashboard specific elements */
.dashboard-card .card-header,
.dashboard-card .text-dark,
.investment-card .text-dark,
.activity-card .text-dark {
    color: #ffffff !important;
}

/* Fix navbar elements on dark backgrounds */
.navbar-dark .navbar-nav .nav-link,
.navbar-dark .navbar-brand,
.navbar-dark .navbar-toggler-icon {
    color: #ffffff !important;
}

/* Navigation submenu fixes - NO MORE WHITE ON WHITE */
.navbar .dropdown-menu {
    background-color: #212529 !important; /* Dark background for all dropdowns */
    border: 1px solid #495057 !important;
}

.navbar .dropdown-menu .dropdown-item {
    color: #ffffff !important; /* White text on dark background */
    background-color: transparent !important;
}

.navbar .dropdown-menu .dropdown-item:hover,
.navbar .dropdown-menu .dropdown-item:focus {
    background-color: #495057 !important; /* Light gray hover on dark */
    color: #ffffff !important;
}

.navbar .dropdown-menu .dropdown-item.active {
    background-color: #0d6efd !important; /* Blue for active items */
    color: #ffffff !important;
}

/* Specific navbar dark theme enforcement */
.navbar-dark .navbar-nav .nav-link.dropdown-toggle {
    color: #ffffff !important;
}

.navbar-dark .navbar-nav .dropdown-menu {
    background-color: #212529 !important;
}

.navbar-dark .navbar-nav .dropdown-menu .dropdown-item {
    color: #ffffff !important;
}

/* Fix table elements */
.table-dark th,
.table-dark td,
.table-dark thead th {
    color: #ffffff !important;
    border-color: rgba(255,255,255,0.2);
}

/* Fix badges and pills */
.badge.bg-secondary,
.badge.bg-dark {
    color: #ffffff !important;
}

/* Fix specific page elements that have contrast issues */
.ai-prediction-header,
.sentiment-header,
.analysis-section-header {
    background-color: rgba(13, 110, 253, 0.1);
    color: #0d6efd !important;
    padding: 0.5rem;
    border-radius: 0.25rem;
}

/* Override problematic inline styles */
[style*="color: #000"][style*="background-color: #0d6efd"],
[style*="color: black"][style*="background-color: blue"],
[style*="color: #000"][style*="background-color: #212529"],
[style*="color: black"][style*="background-color: black"] {
    color: #ffffff !important;
}

/* Responsive fixes */
@media (max-width: 768px) {
    .bg-primary, .bg-info, .bg-dark, .bg-secondary, .bg-success, .bg-danger {
        color: #ffffff !important;
    }
}

/* Utility classes for manual fixes */
.text-white-force {
    color: #ffffff !important;
}

.text-dark-force {
    color: #212529 !important;
}

/* Fix "Markedsanalyse" and currency overview headings */
h1.h3,
.h3 {
    color: #212529 !important;
}

/* Fix any white text that should be dark on light backgrounds */
.text-white h1,
.text-white h2,
.text-white h3,
.text-white h4,
.text-white h5,
.text-white h6 {
    color: #212529 !important;
}

/* Fix card headers specifically */
.card-header.bg-white h5,
.card-header.bg-white h6,
.card-header:not(.bg-primary):not(.bg-success):not(.bg-danger):not(.bg-warning):not(.bg-info):not(.bg-dark) h5,
.card-header:not(.bg-primary):not(.bg-success):not(.bg-danger):not(.bg-warning):not(.bg-info):not(.bg-dark) h6 {
    color: #212529 !important;
}
